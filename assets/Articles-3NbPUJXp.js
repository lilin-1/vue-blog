import{d as D,k as g,j as e,x as C,m as y,q as x,f as A,z as j,y as l,A as v,F as $,s as P,g as z,i,c as k,t as _,I as H,w as W,o as V,l as Z,v as U,J as L,u as R}from"./vendor-Dv-4lRVI.js";import{u as G,f as F,_ as Q}from"./index-DUuN7prg.js";import{_ as J}from"./avatar-CqVDRiVN.js";import"./ui-IWwmySi-.js";const Y={class:"card overflow-hidden group"},O={class:"relative overflow-hidden"},X=["src","alt"],K={key:0,class:"absolute top-4 left-4"},q={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-600 text-white"},ee={class:"absolute top-4 right-4"},te={class:"p-6"},re={class:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3"},ae={class:"flex items-center mr-4"},se=["datetime"],oe={class:"flex items-center"},ie={class:"text-xl font-semibold text-gray-900 dark:text-white mb-3 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-2"},ne={class:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3"},le={class:"flex flex-wrap gap-2 mb-4"},de={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},ge={class:"flex items-center justify-between"},ce={class:"flex items-center text-sm text-gray-500 dark:text-gray-400"},me=["alt"],B="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDQwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNzUgNzVIMjI1VjEyNUgxNzVWNzVaIiBmaWxsPSIjOUI5QkEzIi8+CjxwYXRoIGQ9Ik0xNTAgMTAwSDI1MFYxMTBIMTUwVjEwMFoiIGZpbGw9IiM5QjlCQTMiLz4KPHBhdGggZD0iTTE2MCAxMjBIMjQwVjEzMEgxNjBWMTIwWiIgZmlsbD0iIzlCOUJBMyIvPgo8L3N2Zz4=",ye=D({__name:"ArticleCard",props:{article:{}},setup(N){const u=G(),b=a=>{const c=u.categories.find(m=>m.id===a);return(c==null?void 0:c.name)||a},s=a=>{const c=a.target;c.src=B},w=a=>{const c=a.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIGZpbGw9IiM5QjlCQTMiLz4KPHBhdGggZD0iTTYgMThDOCAxNiAxMCAxNiAxMiAxNkMxNCAxNiAxNiAxNiAxOCAxOEg2WiIgZmlsbD0iIzlCOUJBMyIvPgo8L3N2Zz4="};return(a,c)=>{const m=A("font-awesome-icon"),t=A("router-link");return i(),g("article",Y,[e("div",O,[e("img",{src:a.article.coverImage||B,alt:a.article.title,class:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:s},null,40,X),a.article.featured?(i(),g("div",K,[e("span",q,[y(m,{icon:"star",class:"mr-1"}),c[0]||(c[0]=x(" 精选 ",-1))])])):C("",!0),e("div",ee,[y(t,{to:`/category/${a.article.category}`,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white/90 text-gray-700 hover:bg-white transition-colors"},{default:j(()=>[x(l(b(a.article.category)),1)]),_:1},8,["to"])])]),e("div",te,[e("div",re,[e("div",ae,[y(m,{icon:"calendar",class:"mr-1"}),e("time",{datetime:a.article.date},l(v(F)(a.article.date,"short")),9,se)]),e("div",oe,[y(m,{icon:"clock",class:"mr-1"}),x(" "+l(a.article.readTime)+" 分钟阅读 ",1)])]),e("h3",ie,[y(t,{to:`/articles/${a.article.id}`},{default:j(()=>[x(l(a.article.title),1)]),_:1},8,["to"])]),e("p",ne,l(a.article.excerpt),1),e("div",le,[(i(!0),g($,null,P(a.article.tags.slice(0,3),r=>(i(),z(t,{key:r,to:`/tag/${r}`,class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-100 dark:hover:bg-primary-900/20 hover:text-primary-700 dark:hover:text-primary-300 transition-colors"},{default:j(()=>[y(m,{icon:"tag",class:"mr-1"}),x(" "+l(r),1)]),_:2},1032,["to"]))),128)),a.article.tags.length>3?(i(),g("span",de," +"+l(a.article.tags.length-3)+" 更多 ",1)):C("",!0)]),e("div",ge,[y(t,{to:`/articles/${a.article.id}`,class:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors"},{default:j(()=>[c[1]||(c[1]=x(" 阅读更多 ",-1)),y(m,{icon:"arrow-right",class:"ml-2 group-hover:translate-x-1 transition-transform"})]),_:1},8,["to"]),e("div",ce,[e("img",{src:J,alt:a.article.author,class:"w-6 h-6 rounded-full mr-2",onError:w},null,40,me),e("span",null,l(a.article.author),1)])])])])}}}),ue=Q(ye,[["__scopeId","data-v-b7dc793b"]]),pe={class:"flex items-center justify-between","aria-label":"分页导航"},xe={class:"flex flex-1 justify-between sm:hidden"},be=["disabled"],he=["disabled"],ve={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},fe={class:"text-sm text-gray-700 dark:text-gray-300"},ke={class:"font-medium"},_e={class:"font-medium"},we={class:"font-medium"},Ie={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"分页"},Ce=["disabled"],$e={key:0,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300"},Me=["onClick"],Pe=["disabled"],je=D({__name:"Pagination",props:{currentPage:{},totalPages:{},totalItems:{default:0},pageSize:{default:10}},emits:["pageChange"],setup(N,{emit:u}){const b=N,s=u,w=k(()=>(b.currentPage-1)*b.pageSize+1),a=k(()=>Math.min(b.currentPage*b.pageSize,b.totalItems)),c=k(()=>{const t=[],{currentPage:r,totalPages:p}=b;if(p<=7){for(let f=1;f<=p;f++)t.push(f);return t}t.push(1);let h=Math.max(2,r-1),I=Math.min(p-1,r+1);r<=3&&(I=Math.min(p-1,5)),r>=p-2&&(h=Math.max(2,p-4)),h>2&&t.push("...");for(let f=h;f<=I;f++)t.push(f);return I<p-1&&t.push("..."),p>1&&t.push(p),t}),m=t=>{t>=1&&t<=b.totalPages&&t!==b.currentPage&&s("pageChange",t)};return(t,r)=>{const p=A("font-awesome-icon");return i(),g("nav",pe,[e("div",xe,[e("button",{disabled:t.currentPage<=1,onClick:r[0]||(r[0]=h=>m(t.currentPage-1)),class:_(["relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md",t.currentPage<=1?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"])},[y(p,{icon:"arrow-left",class:"mr-2"}),r[4]||(r[4]=x(" 上一页 ",-1))],10,be),e("button",{disabled:t.currentPage>=t.totalPages,onClick:r[1]||(r[1]=h=>m(t.currentPage+1)),class:_(["relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md",t.currentPage>=t.totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"])},[r[5]||(r[5]=x(" 下一页 ",-1)),y(p,{icon:"arrow-right",class:"ml-2"})],10,he)]),e("div",ve,[e("div",null,[e("p",fe,[r[6]||(r[6]=x(" 显示第 ",-1)),e("span",ke,l(w.value),1),r[7]||(r[7]=x(" 到 ",-1)),e("span",_e,l(a.value),1),r[8]||(r[8]=x(" 项，共 ",-1)),e("span",we,l(t.totalItems),1),r[9]||(r[9]=x(" 项 ",-1))])]),e("div",null,[e("nav",Ie,[e("button",{disabled:t.currentPage<=1,onClick:r[2]||(r[2]=h=>m(t.currentPage-1)),class:_(["relative inline-flex items-center px-2 py-2 rounded-l-md border text-sm font-medium",t.currentPage<=1?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-500":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},[r[10]||(r[10]=e("span",{class:"sr-only"},"上一页",-1)),y(p,{icon:"arrow-left",class:"h-4 w-4"})],10,Ce),(i(!0),g($,null,P(c.value,h=>(i(),g($,{key:h},[h==="..."?(i(),g("span",$e," ... ")):(i(),g("button",{key:1,onClick:I=>m(h),class:_(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",h===t.currentPage?"z-10 bg-primary-50 border-primary-500 text-primary-600 dark:bg-primary-900/20 dark:border-primary-400 dark:text-primary-400":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},l(h),11,Me))],64))),128)),e("button",{disabled:t.currentPage>=t.totalPages,onClick:r[3]||(r[3]=h=>m(t.currentPage+1)),class:_(["relative inline-flex items-center px-2 py-2 rounded-r-md border text-sm font-medium",t.currentPage>=t.totalPages?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-500":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},[r[11]||(r[11]=e("span",{class:"sr-only"},"下一页",-1)),y(p,{icon:"arrow-right",class:"h-4 w-4"})],10,Pe)])])])])}}}),Ae={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Ne={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},Te={class:"container-custom py-12"},ze={class:"text-center"},De={class:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4"},Ze={class:"text-lg text-gray-600 dark:text-gray-400"},Be={class:"container-custom py-8"},Ge={class:"flex flex-col lg:flex-row gap-8"},Qe={class:"flex-1"},Se={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8"},Ee={class:"flex flex-col md:flex-row gap-4"},He={class:"flex-1"},We={class:"relative"},Ve={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ue={class:"md:w-48"},Le=["value"],Re={key:0,class:"mt-4 flex items-center"},Fe={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-200"},Je={key:0},Ye={class:"mb-6"},Oe={class:"text-gray-600 dark:text-gray-400"},Xe={class:"font-semibold text-gray-900 dark:text-white"},Ke={key:0,class:"text-sm"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12"},et={key:1,class:"text-center py-16"},tt={class:"max-w-md mx-auto"},rt={class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},at={class:"text-gray-600 dark:text-gray-400 mb-6"},st={class:"lg:w-80"},ot={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},it={class:"space-y-2"},nt={class:"flex items-center justify-between"},lt={class:"text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},dt=["onClick"],gt={class:"flex items-center justify-between"},ct={class:"text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},mt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},yt={class:"flex flex-wrap gap-2"},ut=["onClick"],pt=D({__name:"Articles",setup(N){const u=H(),b=R(),s=G(),w=k({get:()=>s.searchQuery,set:n=>s.setSearchQuery(n)}),a=k({get:()=>s.selectedCategory,set:n=>s.setCategory(n)}),c=k({get:()=>s.selectedTag,set:n=>s.setTag(n)}),m=k(()=>!!(w.value||a.value||c.value)),t=k(()=>{if(u.params.category){const n=s.categories.find(o=>o.id===u.params.category);return n?`${n.name} - 分类文章`:"分类文章"}return u.params.tag?`${u.params.tag} - 标签文章`:"所有文章"}),r=k(()=>{if(u.params.category){const n=s.categories.find(o=>o.id===u.params.category);return(n==null?void 0:n.description)||"浏览该分类下的所有文章"}return u.params.tag?`浏览标签为 "${u.params.tag}" 的所有文章`:"浏览所有技术文章和分享"}),p=n=>{s.setCategory(n),T()},h=n=>{s.setTag(n),T()},I=()=>{s.clearFilters(),b.push("/articles")},f=()=>{s.setTag(null),T()},S=n=>{s.setPage(n),window.scrollTo({top:0,behavior:"smooth"})},T=()=>{a.value?b.push(`/category/${a.value}`):c.value?b.push(`/tag/${c.value}`):b.push("/articles")};return W(()=>u.params,n=>{n.category?s.setCategory(n.category):n.tag?s.setTag(n.tag):s.clearFilters()},{immediate:!0}),V(()=>{u.params.category?s.setCategory(u.params.category):u.params.tag&&s.setTag(u.params.tag)}),(n,o)=>{const M=A("font-awesome-icon");return i(),g("div",Ae,[e("section",Ne,[e("div",Te,[e("div",ze,[e("h1",De,l(t.value),1),e("p",Ze,l(r.value),1)])])]),e("div",Be,[e("div",Ge,[e("main",Qe,[e("div",Se,[e("div",Ee,[e("div",He,[e("div",We,[e("div",Ve,[y(M,{icon:"search",class:"h-5 w-5 text-gray-400"})]),Z(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>w.value=d),type:"text",placeholder:"搜索文章...",class:"input pl-10"},null,512),[[U,w.value]])])]),e("div",Ue,[Z(e("select",{"onUpdate:modelValue":o[1]||(o[1]=d=>a.value=d),class:"input"},[o[3]||(o[3]=e("option",{value:""},"所有分类",-1)),(i(!0),g($,null,P(v(s).categories,d=>(i(),g("option",{key:d.id,value:d.id},l(d.name)+" ("+l(d.count)+") ",9,Le))),128))],512),[[L,a.value]])]),m.value?(i(),g("button",{key:0,onClick:I,class:"btn btn-secondary whitespace-nowrap"},[y(M,{icon:"times",class:"mr-2"}),o[4]||(o[4]=x(" 清除筛选 ",-1))])):C("",!0)]),c.value?(i(),g("div",Re,[o[5]||(o[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400 mr-2"},"当前标签:",-1)),e("span",Fe,[y(M,{icon:"tag",class:"mr-1"}),x(" "+l(c.value)+" ",1),e("button",{onClick:f,class:"ml-2 text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200"},[y(M,{icon:"times",class:"text-xs"})])])])):C("",!0)]),v(s).paginatedArticles.length>0?(i(),g("div",Je,[e("div",Ye,[e("p",Oe,[o[6]||(o[6]=x(" 找到 ",-1)),e("span",Xe,l(v(s).filteredArticles.length),1),o[7]||(o[7]=x(" 篇文章 ",-1)),m.value?(i(),g("span",Ke," (已筛选) ")):C("",!0)])]),e("div",qe,[(i(!0),g($,null,P(v(s).paginatedArticles,d=>(i(),z(ue,{key:d.id,article:d,class:"animate-fade-in"},null,8,["article"]))),128))]),v(s).totalPages>1?(i(),z(je,{key:0,"current-page":v(s).currentPage,"total-pages":v(s).totalPages,onPageChange:S},null,8,["current-page","total-pages"])):C("",!0)])):(i(),g("div",et,[e("div",tt,[y(M,{icon:"search",class:"text-6xl text-gray-300 dark:text-gray-600 mb-6"}),e("h3",rt,l(m.value?"未找到匹配的文章":"暂无文章"),1),e("p",at,l(m.value?"尝试调整搜索条件或清除筛选":"还没有发布任何文章"),1),m.value?(i(),g("button",{key:0,onClick:I,class:"btn btn-primary"}," 清除所有筛选 ")):C("",!0)])]))]),e("aside",st,[e("div",ot,[o[9]||(o[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," 文章分类 ",-1)),e("div",it,[e("button",{onClick:o[2]||(o[2]=d=>p(null)),class:_(["w-full text-left px-3 py-2 rounded-lg transition-colors",a.value?"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"])},[e("div",nt,[o[8]||(o[8]=e("span",null,"所有分类",-1)),e("span",lt,l(v(s).articles.length),1)])],2),(i(!0),g($,null,P(v(s).categories,d=>(i(),g("button",{key:d.id,onClick:E=>p(d.id),class:_(["w-full text-left px-3 py-2 rounded-lg transition-colors",a.value===d.id?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])},[e("div",gt,[e("span",null,l(d.name),1),e("span",ct,l(d.count),1)])],10,dt))),128))])]),e("div",mt,[o[10]||(o[10]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," 热门标签 ",-1)),e("div",yt,[(i(!0),g($,null,P(v(s).popularTags,d=>(i(),g("button",{key:d,onClick:E=>h(d),class:_(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors",c.value===d?"bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},[y(M,{icon:"tag",class:"mr-1"}),x(" "+l(d),1)],10,ut))),128))])])])])])])}}}),ft=Q(pt,[["__scopeId","data-v-fb6272a8"]]);export{ft as default};
